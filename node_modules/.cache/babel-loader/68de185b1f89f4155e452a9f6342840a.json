{"ast":null,"code":"var _jsxFileName = \"/Users/nicodanke/development/dizen/react-blog-template/src/components/CategoryFilter/CategoryFilter.jsx\";\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { categories, getCategoryNameByPath } from '../../posts/Posts';\nimport { CategoryFilterContainer, CategoryList, CategoryItem, CategoryButton, SubcategoryList, SubcategoryItem, SubcategoryButton, ClearButton } from './Style'; // Recursive component to render categories at any nesting level\n\nconst CategoryTree = ({\n  category,\n  path,\n  selectedPath,\n  onSelect,\n  language,\n  level = 0\n}) => {\n  const hasSubcategories = category.subcategories && Object.keys(category.subcategories).length > 0;\n  const isSelected = selectedPath && selectedPath.length > level && selectedPath[level] === category.id;\n  const isPathSelected = selectedPath && selectedPath.length === path.length && selectedPath.every((id, idx) => id === path[idx]);\n\n  const handleClick = () => {\n    if (isPathSelected) {\n      // Deselect if clicking the same path\n      onSelect(null);\n    } else {\n      // Select this path\n      onSelect([...path]);\n    }\n  };\n\n  const handleSubcategoryClick = subcategoryPath => {\n    onSelect(subcategoryPath);\n  };\n\n  const currentPath = [...path, category.id];\n  const selectedSubcategoryPath = selectedPath && selectedPath.length > path.length + 1 ? selectedPath.slice(0, path.length + 1) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CategoryItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CategoryButton, {\n    onClick: handleClick,\n    active: isPathSelected,\n    level: level,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, category.name[language] || category.name['en'])), hasSubcategories && (isSelected || isPathSelected) && /*#__PURE__*/React.createElement(SubcategoryList, {\n    level: level,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, Object.keys(category.subcategories).map(subcategoryId => {\n    const subcategory = category.subcategories[subcategoryId];\n    const subcategoryPath = [...currentPath, subcategoryId];\n    const isSubcategorySelected = selectedPath && selectedPath.length >= subcategoryPath.length && selectedPath.slice(0, subcategoryPath.length).every((id, idx) => id === subcategoryPath[idx]);\n    return /*#__PURE__*/React.createElement(SubcategoryItem, {\n      key: subcategoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CategoryTree, {\n      category: subcategory,\n      path: currentPath,\n      selectedPath: selectedPath,\n      onSelect: handleSubcategoryClick,\n      language: language,\n      level: level + 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 33\n      }\n    }));\n  })));\n};\n\nconst CategoryFilter = ({\n  onFilterChange\n}) => {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const language = i18n.language || 'en';\n  const [selectedPath, setSelectedPath] = useState(null);\n\n  const handleCategorySelect = path => {\n    setSelectedPath(path);\n    onFilterChange(path);\n  };\n\n  const handleClear = () => {\n    setSelectedPath(null);\n    onFilterChange(null);\n  };\n\n  const categoryKeys = Object.keys(categories);\n  return /*#__PURE__*/React.createElement(CategoryFilterContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CategoryList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, categoryKeys.map(categoryId => {\n    const category = categories[categoryId];\n    const path = [categoryId];\n    return /*#__PURE__*/React.createElement(CategoryTree, {\n      key: categoryId,\n      category: category,\n      path: [],\n      selectedPath: selectedPath,\n      onSelect: handleCategorySelect,\n      language: language,\n      level: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    });\n  })), selectedPath && /*#__PURE__*/React.createElement(ClearButton, {\n    onClick: handleClear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, t('posts.clearFilter')));\n};\n\nexport default CategoryFilter;","map":{"version":3,"sources":["/Users/nicodanke/development/dizen/react-blog-template/src/components/CategoryFilter/CategoryFilter.jsx"],"names":["React","useState","useTranslation","categories","getCategoryNameByPath","CategoryFilterContainer","CategoryList","CategoryItem","CategoryButton","SubcategoryList","SubcategoryItem","SubcategoryButton","ClearButton","CategoryTree","category","path","selectedPath","onSelect","language","level","hasSubcategories","subcategories","Object","keys","length","isSelected","id","isPathSelected","every","idx","handleClick","handleSubcategoryClick","subcategoryPath","currentPath","selectedSubcategoryPath","slice","name","map","subcategoryId","subcategory","isSubcategorySelected","CategoryFilter","onFilterChange","t","i18n","setSelectedPath","handleCategorySelect","handleClear","categoryKeys","categoryId"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { categories, getCategoryNameByPath } from '../../posts/Posts';\nimport {\n    CategoryFilterContainer,\n    CategoryList,\n    CategoryItem,\n    CategoryButton,\n    SubcategoryList,\n    SubcategoryItem,\n    SubcategoryButton,\n    ClearButton\n} from './Style';\n\n// Recursive component to render categories at any nesting level\nconst CategoryTree = ({ category, path, selectedPath, onSelect, language, level = 0 }) => {\n    const hasSubcategories = category.subcategories && Object.keys(category.subcategories).length > 0;\n    const isSelected = selectedPath && selectedPath.length > level && selectedPath[level] === category.id;\n    const isPathSelected = selectedPath && selectedPath.length === path.length && \n        selectedPath.every((id, idx) => id === path[idx]);\n\n    const handleClick = () => {\n        if (isPathSelected) {\n            // Deselect if clicking the same path\n            onSelect(null);\n        } else {\n            // Select this path\n            onSelect([...path]);\n        }\n    };\n\n    const handleSubcategoryClick = (subcategoryPath) => {\n        onSelect(subcategoryPath);\n    };\n\n    const currentPath = [...path, category.id];\n    const selectedSubcategoryPath = selectedPath && selectedPath.length > path.length + 1 \n        ? selectedPath.slice(0, path.length + 1) \n        : null;\n\n    return (\n        <>\n            <CategoryItem>\n                <CategoryButton\n                    onClick={handleClick}\n                    active={isPathSelected}\n                    level={level}\n                >\n                    {category.name[language] || category.name['en']}\n                </CategoryButton>\n            </CategoryItem>\n\n            {hasSubcategories && (isSelected || isPathSelected) && (\n                <SubcategoryList level={level}>\n                    {Object.keys(category.subcategories).map((subcategoryId) => {\n                        const subcategory = category.subcategories[subcategoryId];\n                        const subcategoryPath = [...currentPath, subcategoryId];\n                        const isSubcategorySelected = selectedPath && \n                            selectedPath.length >= subcategoryPath.length &&\n                            selectedPath.slice(0, subcategoryPath.length).every((id, idx) => id === subcategoryPath[idx]);\n\n                        return (\n                            <SubcategoryItem key={subcategoryId}>\n                                <CategoryTree\n                                    category={subcategory}\n                                    path={currentPath}\n                                    selectedPath={selectedPath}\n                                    onSelect={handleSubcategoryClick}\n                                    language={language}\n                                    level={level + 1}\n                                />\n                            </SubcategoryItem>\n                        );\n                    })}\n                </SubcategoryList>\n            )}\n        </>\n    );\n};\n\nconst CategoryFilter = ({ onFilterChange }) => {\n    const { t, i18n } = useTranslation();\n    const language = i18n.language || 'en';\n    const [selectedPath, setSelectedPath] = useState(null);\n\n    const handleCategorySelect = (path) => {\n        setSelectedPath(path);\n        onFilterChange(path);\n    };\n\n    const handleClear = () => {\n        setSelectedPath(null);\n        onFilterChange(null);\n    };\n\n    const categoryKeys = Object.keys(categories);\n\n    return (\n        <CategoryFilterContainer>\n            <CategoryList>\n                {categoryKeys.map((categoryId) => {\n                    const category = categories[categoryId];\n                    const path = [categoryId];\n                    \n                    return (\n                        <CategoryTree\n                            key={categoryId}\n                            category={category}\n                            path={[]}\n                            selectedPath={selectedPath}\n                            onSelect={handleCategorySelect}\n                            language={language}\n                            level={0}\n                        />\n                    );\n                })}\n            </CategoryList>\n\n            {selectedPath && (\n                <ClearButton onClick={handleClear}>\n                    {t('posts.clearFilter')}\n                </ClearButton>\n            )}\n        </CategoryFilterContainer>\n    );\n};\n\nexport default CategoryFilter;\n"]},"metadata":{},"sourceType":"module"}