{"ast":null,"code":"var _jsxFileName = \"/Users/nicodanke/development/dizen/dizen-blog/src/components/CategoryFilter/CategoryFilter.jsx\";\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { categories, getCategoryByPath } from '../../posts/Posts';\nimport { CategoryFilterContainer, CategoryList, CategoryItem, CategoryButton, SubcategoryList, SubcategoryItem, ClearButton, BreadcrumbRow } from './Style';\n\nconst CategoryFilter = ({\n  onFilterChange,\n  initialSelectedPath = null\n}) => {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const language = i18n.language || 'en';\n  const [selectedPath, setSelectedPath] = useState(initialSelectedPath); // Update selectedPath when initialSelectedPath changes (e.g., from URL)\n\n  React.useEffect(() => {\n    setSelectedPath(initialSelectedPath);\n  }, [initialSelectedPath]);\n\n  const handleCategorySelect = path => {\n    setSelectedPath(path);\n    onFilterChange(path);\n  };\n\n  const handleBreadcrumbClick = index => {\n    const isLast = index === selectedPath.length - 1;\n\n    if (isLast) {\n      // Clicking the last breadcrumb removes only that last element\n      if (selectedPath.length === 1) {\n        // If it's the only element, clear the filter completely\n        setSelectedPath(null);\n        onFilterChange(null);\n      } else {\n        // Remove the last element from the path\n        const newPath = selectedPath.slice(0, -1);\n        setSelectedPath(newPath);\n        onFilterChange(newPath);\n      }\n    } else {\n      // Clicking a breadcrumb selects that level\n      const newPath = selectedPath.slice(0, index + 1);\n      setSelectedPath(newPath);\n      onFilterChange(newPath);\n    }\n  };\n\n  const handleSubcategoryClick = subcategoryId => {\n    // Add the subcategory to the path\n    const newPath = [...selectedPath, subcategoryId];\n    setSelectedPath(newPath);\n    onFilterChange(newPath);\n  };\n\n  const handleClear = () => {\n    setSelectedPath(null);\n    onFilterChange(null);\n  }; // Get the current category based on selected path\n\n\n  const getCurrentCategory = () => {\n    if (!selectedPath || selectedPath.length === 0) {\n      return null;\n    }\n\n    return getCategoryByPath(selectedPath);\n  }; // Get subcategories of the current selected category\n\n\n  const getCurrentSubcategories = () => {\n    const currentCategory = getCurrentCategory();\n\n    if (!currentCategory || !currentCategory.subcategories) {\n      return {};\n    }\n\n    return currentCategory.subcategories;\n  };\n\n  const currentCategory = getCurrentCategory();\n  const currentSubcategories = getCurrentSubcategories();\n  const hasSubcategories = currentCategory && Object.keys(currentSubcategories).length > 0;\n  const categoryKeys = Object.keys(categories);\n  return /*#__PURE__*/React.createElement(CategoryFilterContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, selectedPath && selectedPath.length > 0 ?\n  /*#__PURE__*/\n  // Show breadcrumb row with selected path\n  React.createElement(BreadcrumbRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, selectedPath.map((categoryId, index) => {\n    const pathToCategory = selectedPath.slice(0, index + 1);\n    const category = getCategoryByPath(pathToCategory);\n    const isLast = index === selectedPath.length - 1;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CategoryButton, {\n      onClick: () => handleBreadcrumbClick(index),\n      active: isLast,\n      level: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, category ? category.name[language] || category.name['en'] : categoryId), !isLast && /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        margin: '0 0.5rem',\n        color: '#888'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 45\n      }\n    }, \"\\u203A\"));\n  })) :\n  /*#__PURE__*/\n  // Show all top-level categories\n  React.createElement(CategoryList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, categoryKeys.map(categoryId => {\n    const category = categories[categoryId];\n    return /*#__PURE__*/React.createElement(CategoryItem, {\n      key: categoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CategoryButton, {\n      onClick: () => handleCategorySelect([categoryId]),\n      active: false,\n      level: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, category.name[language] || category.name['en']));\n  })), hasSubcategories && /*#__PURE__*/React.createElement(SubcategoryList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, Object.keys(currentSubcategories).map(subcategoryId => {\n    const subcategory = currentSubcategories[subcategoryId];\n    return /*#__PURE__*/React.createElement(SubcategoryItem, {\n      key: subcategoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CategoryButton, {\n      onClick: () => handleSubcategoryClick(subcategoryId),\n      active: false,\n      level: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 33\n      }\n    }, subcategory.name[language] || subcategory.name['en']));\n  })), selectedPath && selectedPath.length > 0 && /*#__PURE__*/React.createElement(ClearButton, {\n    onClick: handleClear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, t('posts.clearFilter')));\n};\n\nexport default CategoryFilter;","map":{"version":3,"sources":["/Users/nicodanke/development/dizen/dizen-blog/src/components/CategoryFilter/CategoryFilter.jsx"],"names":["React","useState","useTranslation","categories","getCategoryByPath","CategoryFilterContainer","CategoryList","CategoryItem","CategoryButton","SubcategoryList","SubcategoryItem","ClearButton","BreadcrumbRow","CategoryFilter","onFilterChange","initialSelectedPath","t","i18n","language","selectedPath","setSelectedPath","useEffect","handleCategorySelect","path","handleBreadcrumbClick","index","isLast","length","newPath","slice","handleSubcategoryClick","subcategoryId","handleClear","getCurrentCategory","getCurrentSubcategories","currentCategory","subcategories","currentSubcategories","hasSubcategories","Object","keys","categoryKeys","map","categoryId","pathToCategory","category","name","margin","color","subcategory"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { categories, getCategoryByPath } from '../../posts/Posts';\nimport {\n    CategoryFilterContainer,\n    CategoryList,\n    CategoryItem,\n    CategoryButton,\n    SubcategoryList,\n    SubcategoryItem,\n    ClearButton,\n    BreadcrumbRow\n} from './Style';\n\nconst CategoryFilter = ({ onFilterChange, initialSelectedPath = null }) => {\n    const { t, i18n } = useTranslation();\n    const language = i18n.language || 'en';\n    const [selectedPath, setSelectedPath] = useState(initialSelectedPath);\n\n    // Update selectedPath when initialSelectedPath changes (e.g., from URL)\n    React.useEffect(() => {\n        setSelectedPath(initialSelectedPath);\n    }, [initialSelectedPath]);\n\n    const handleCategorySelect = (path) => {\n        setSelectedPath(path);\n        onFilterChange(path);\n    };\n\n    const handleBreadcrumbClick = (index) => {\n        const isLast = index === selectedPath.length - 1;\n\n        if (isLast) {\n            // Clicking the last breadcrumb removes only that last element\n            if (selectedPath.length === 1) {\n                // If it's the only element, clear the filter completely\n                setSelectedPath(null);\n                onFilterChange(null);\n            } else {\n                // Remove the last element from the path\n                const newPath = selectedPath.slice(0, -1);\n                setSelectedPath(newPath);\n                onFilterChange(newPath);\n            }\n        } else {\n            // Clicking a breadcrumb selects that level\n            const newPath = selectedPath.slice(0, index + 1);\n            setSelectedPath(newPath);\n            onFilterChange(newPath);\n        }\n    };\n\n    const handleSubcategoryClick = (subcategoryId) => {\n        // Add the subcategory to the path\n        const newPath = [...selectedPath, subcategoryId];\n        setSelectedPath(newPath);\n        onFilterChange(newPath);\n    };\n\n    const handleClear = () => {\n        setSelectedPath(null);\n        onFilterChange(null);\n    };\n\n    // Get the current category based on selected path\n    const getCurrentCategory = () => {\n        if (!selectedPath || selectedPath.length === 0) {\n            return null;\n        }\n        return getCategoryByPath(selectedPath);\n    };\n\n    // Get subcategories of the current selected category\n    const getCurrentSubcategories = () => {\n        const currentCategory = getCurrentCategory();\n        if (!currentCategory || !currentCategory.subcategories) {\n            return {};\n        }\n        return currentCategory.subcategories;\n    };\n\n    const currentCategory = getCurrentCategory();\n    const currentSubcategories = getCurrentSubcategories();\n    const hasSubcategories = currentCategory && Object.keys(currentSubcategories).length > 0;\n    const categoryKeys = Object.keys(categories);\n\n    return (\n        <CategoryFilterContainer>\n            {selectedPath && selectedPath.length > 0 ? (\n                // Show breadcrumb row with selected path\n                <BreadcrumbRow>\n                    {selectedPath.map((categoryId, index) => {\n                        const pathToCategory = selectedPath.slice(0, index + 1);\n                        const category = getCategoryByPath(pathToCategory);\n                        const isLast = index === selectedPath.length - 1;\n\n                        return (\n                            <React.Fragment key={index}>\n                                <CategoryButton\n                                    onClick={() => handleBreadcrumbClick(index)}\n                                    active={isLast}\n                                    level={0}\n                                >\n                                    {category ? (category.name[language] || category.name['en']) : categoryId}\n                                </CategoryButton>\n                                {!isLast && <span style={{ margin: '0 0.5rem', color: '#888' }}>â€º</span>}\n                            </React.Fragment>\n                        );\n                    })}\n                </BreadcrumbRow>\n            ) : (\n                // Show all top-level categories\n                <CategoryList>\n                    {categoryKeys.map((categoryId) => {\n                        const category = categories[categoryId];\n                        return (\n                            <CategoryItem key={categoryId}>\n                                <CategoryButton\n                                    onClick={() => handleCategorySelect([categoryId])}\n                                    active={false}\n                                    level={0}\n                                >\n                                    {category.name[language] || category.name['en']}\n                                </CategoryButton>\n                            </CategoryItem>\n                        );\n                    })}\n                </CategoryList>\n            )}\n\n            {/* Show subcategories of the currently selected category */}\n            {hasSubcategories && (\n                <SubcategoryList>\n                    {Object.keys(currentSubcategories).map((subcategoryId) => {\n                        const subcategory = currentSubcategories[subcategoryId];\n                        return (\n                            <SubcategoryItem key={subcategoryId}>\n                                <CategoryButton\n                                    onClick={() => handleSubcategoryClick(subcategoryId)}\n                                    active={false}\n                                    level={1}\n                                >\n                                    {subcategory.name[language] || subcategory.name['en']}\n                                </CategoryButton>\n                            </SubcategoryItem>\n                        );\n                    })}\n                </SubcategoryList>\n            )}\n\n            {selectedPath && selectedPath.length > 0 && (\n                <ClearButton onClick={handleClear}>\n                    {t('posts.clearFilter')}\n                </ClearButton>\n            )}\n        </CategoryFilterContainer>\n    );\n};\n\nexport default CategoryFilter;\n"]},"metadata":{},"sourceType":"module"}