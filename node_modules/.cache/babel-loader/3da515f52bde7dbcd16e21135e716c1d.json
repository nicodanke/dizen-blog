{"ast":null,"code":"var _jsxFileName = \"/Users/nicodanke/development/dizen/react-blog-template/src/components/CategoryFilter/CategoryFilter.jsx\";\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { categories, getCategoryNameByPath } from '../../posts/Posts';\nimport { CategoryFilterContainer, CategoryList, CategoryItem, CategoryButton, SubcategoryList, SubcategoryItem, SubcategoryButton, ClearButton } from './Style'; // Recursive component to render categories at any nesting level\n\nconst CategoryTree = ({\n  category,\n  path,\n  selectedPath,\n  onSelect,\n  language,\n  level = 0\n}) => {\n  const hasSubcategories = category.subcategories && Object.keys(category.subcategories).length > 0;\n  const currentPath = [...path, category.id];\n  const isPathSelected = selectedPath && selectedPath.length === currentPath.length && selectedPath.every((id, idx) => id === currentPath[idx]);\n  const isParentSelected = selectedPath && selectedPath.length > currentPath.length && selectedPath.slice(0, currentPath.length).every((id, idx) => id === currentPath[idx]);\n  const shouldShowSubcategories = hasSubcategories && (isPathSelected || isParentSelected);\n\n  const handleClick = () => {\n    if (isPathSelected) {\n      // Deselect if clicking the same path\n      onSelect(null);\n    } else {\n      // Select this path\n      onSelect(currentPath);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CategoryItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CategoryButton, {\n    onClick: handleClick,\n    active: isPathSelected,\n    level: level,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, category.name[language] || category.name['en'])), shouldShowSubcategories && /*#__PURE__*/React.createElement(SubcategoryList, {\n    level: level,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, Object.keys(category.subcategories).map(subcategoryId => {\n    const subcategory = category.subcategories[subcategoryId];\n    return /*#__PURE__*/React.createElement(SubcategoryItem, {\n      key: subcategoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CategoryTree, {\n      category: subcategory,\n      path: currentPath,\n      selectedPath: selectedPath,\n      onSelect: onSelect,\n      language: language,\n      level: level + 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }\n    }));\n  })));\n};\n\nconst CategoryFilter = ({\n  onFilterChange\n}) => {\n  const {\n    t,\n    i18n\n  } = useTranslation();\n  const language = i18n.language || 'en';\n  const [selectedPath, setSelectedPath] = useState(null);\n\n  const handleCategorySelect = path => {\n    setSelectedPath(path);\n    onFilterChange(path);\n  };\n\n  const handleClear = () => {\n    setSelectedPath(null);\n    onFilterChange(null);\n  };\n\n  const categoryKeys = Object.keys(categories);\n  return /*#__PURE__*/React.createElement(CategoryFilterContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CategoryList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, categoryKeys.map(categoryId => {\n    const category = categories[categoryId];\n    const path = [categoryId];\n    return /*#__PURE__*/React.createElement(CategoryTree, {\n      key: categoryId,\n      category: category,\n      path: [],\n      selectedPath: selectedPath,\n      onSelect: handleCategorySelect,\n      language: language,\n      level: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    });\n  })), selectedPath && /*#__PURE__*/React.createElement(ClearButton, {\n    onClick: handleClear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, t('posts.clearFilter')));\n};\n\nexport default CategoryFilter;","map":{"version":3,"sources":["/Users/nicodanke/development/dizen/react-blog-template/src/components/CategoryFilter/CategoryFilter.jsx"],"names":["React","useState","useTranslation","categories","getCategoryNameByPath","CategoryFilterContainer","CategoryList","CategoryItem","CategoryButton","SubcategoryList","SubcategoryItem","SubcategoryButton","ClearButton","CategoryTree","category","path","selectedPath","onSelect","language","level","hasSubcategories","subcategories","Object","keys","length","currentPath","id","isPathSelected","every","idx","isParentSelected","slice","shouldShowSubcategories","handleClick","width","name","map","subcategoryId","subcategory","CategoryFilter","onFilterChange","t","i18n","setSelectedPath","handleCategorySelect","handleClear","categoryKeys","categoryId"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,UAAT,EAAqBC,qBAArB,QAAkD,mBAAlD;AACA,SACIC,uBADJ,EAEIC,YAFJ,EAGIC,YAHJ,EAIIC,cAJJ,EAKIC,eALJ,EAMIC,eANJ,EAOIC,iBAPJ,EAQIC,WARJ,QASO,SATP,C,CAWA;;AACA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,IAAZ;AAAkBC,EAAAA,YAAlB;AAAgCC,EAAAA,QAAhC;AAA0CC,EAAAA,QAA1C;AAAoDC,EAAAA,KAAK,GAAG;AAA5D,CAAD,KAAqE;AACtF,QAAMC,gBAAgB,GAAGN,QAAQ,CAACO,aAAT,IAA0BC,MAAM,CAACC,IAAP,CAAYT,QAAQ,CAACO,aAArB,EAAoCG,MAApC,GAA6C,CAAhG;AACA,QAAMC,WAAW,GAAG,CAAC,GAAGV,IAAJ,EAAUD,QAAQ,CAACY,EAAnB,CAApB;AACA,QAAMC,cAAc,GAAGX,YAAY,IAAIA,YAAY,CAACQ,MAAb,KAAwBC,WAAW,CAACD,MAApD,IACnBR,YAAY,CAACY,KAAb,CAAmB,CAACF,EAAD,EAAKG,GAAL,KAAaH,EAAE,KAAKD,WAAW,CAACI,GAAD,CAAlD,CADJ;AAEA,QAAMC,gBAAgB,GAAGd,YAAY,IAAIA,YAAY,CAACQ,MAAb,GAAsBC,WAAW,CAACD,MAAlD,IACrBR,YAAY,CAACe,KAAb,CAAmB,CAAnB,EAAsBN,WAAW,CAACD,MAAlC,EAA0CI,KAA1C,CAAgD,CAACF,EAAD,EAAKG,GAAL,KAAaH,EAAE,KAAKD,WAAW,CAACI,GAAD,CAA/E,CADJ;AAEA,QAAMG,uBAAuB,GAAGZ,gBAAgB,KAAKO,cAAc,IAAIG,gBAAvB,CAAhD;;AAEA,QAAMG,WAAW,GAAG,MAAM;AACtB,QAAIN,cAAJ,EAAoB;AAChB;AACAV,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH,KAHD,MAGO;AACH;AACAA,MAAAA,QAAQ,CAACQ,WAAD,CAAR;AACH;AACJ,GARD;;AAUA,sBACI;AAAK,IAAA,KAAK,EAAE;AAAES,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,cAAD;AACI,IAAA,OAAO,EAAED,WADb;AAEI,IAAA,MAAM,EAAEN,cAFZ;AAGI,IAAA,KAAK,EAAER,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKKL,QAAQ,CAACqB,IAAT,CAAcjB,QAAd,KAA2BJ,QAAQ,CAACqB,IAAT,CAAc,IAAd,CALhC,CADJ,CADJ,EAWKH,uBAAuB,iBACpB,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAEb,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKG,MAAM,CAACC,IAAP,CAAYT,QAAQ,CAACO,aAArB,EAAoCe,GAApC,CAAyCC,aAAD,IAAmB;AACxD,UAAMC,WAAW,GAAGxB,QAAQ,CAACO,aAAT,CAAuBgB,aAAvB,CAApB;AAEA,wBACI,oBAAC,eAAD;AAAiB,MAAA,GAAG,EAAEA,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AACI,MAAA,QAAQ,EAAEC,WADd;AAEI,MAAA,IAAI,EAAEb,WAFV;AAGI,MAAA,YAAY,EAAET,YAHlB;AAII,MAAA,QAAQ,EAAEC,QAJd;AAKI,MAAA,QAAQ,EAAEC,QALd;AAMI,MAAA,KAAK,EAAEC,KAAK,GAAG,CANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AAYH,GAfA,CADL,CAZR,CADJ;AAkCH,CArDD;;AAuDA,MAAMoB,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAwB;AAC3C,QAAM;AAAEC,IAAAA,CAAF;AAAKC,IAAAA;AAAL,MAAcxC,cAAc,EAAlC;AACA,QAAMgB,QAAQ,GAAGwB,IAAI,CAACxB,QAAL,IAAiB,IAAlC;AACA,QAAM,CAACF,YAAD,EAAe2B,eAAf,IAAkC1C,QAAQ,CAAC,IAAD,CAAhD;;AAEA,QAAM2C,oBAAoB,GAAI7B,IAAD,IAAU;AACnC4B,IAAAA,eAAe,CAAC5B,IAAD,CAAf;AACAyB,IAAAA,cAAc,CAACzB,IAAD,CAAd;AACH,GAHD;;AAKA,QAAM8B,WAAW,GAAG,MAAM;AACtBF,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAH,IAAAA,cAAc,CAAC,IAAD,CAAd;AACH,GAHD;;AAKA,QAAMM,YAAY,GAAGxB,MAAM,CAACC,IAAP,CAAYpB,UAAZ,CAArB;AAEA,sBACI,oBAAC,uBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK2C,YAAY,CAACV,GAAb,CAAkBW,UAAD,IAAgB;AAC9B,UAAMjC,QAAQ,GAAGX,UAAU,CAAC4C,UAAD,CAA3B;AACA,UAAMhC,IAAI,GAAG,CAACgC,UAAD,CAAb;AAEA,wBACI,oBAAC,YAAD;AACI,MAAA,GAAG,EAAEA,UADT;AAEI,MAAA,QAAQ,EAAEjC,QAFd;AAGI,MAAA,IAAI,EAAE,EAHV;AAII,MAAA,YAAY,EAAEE,YAJlB;AAKI,MAAA,QAAQ,EAAE4B,oBALd;AAMI,MAAA,QAAQ,EAAE1B,QANd;AAOI,MAAA,KAAK,EAAE,CAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAWH,GAfA,CADL,CADJ,EAoBKF,YAAY,iBACT,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAE6B,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKJ,CAAC,CAAC,mBAAD,CADN,CArBR,CADJ;AA4BH,CA7CD;;AA+CA,eAAeF,cAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { categories, getCategoryNameByPath } from '../../posts/Posts';\nimport {\n    CategoryFilterContainer,\n    CategoryList,\n    CategoryItem,\n    CategoryButton,\n    SubcategoryList,\n    SubcategoryItem,\n    SubcategoryButton,\n    ClearButton\n} from './Style';\n\n// Recursive component to render categories at any nesting level\nconst CategoryTree = ({ category, path, selectedPath, onSelect, language, level = 0 }) => {\n    const hasSubcategories = category.subcategories && Object.keys(category.subcategories).length > 0;\n    const currentPath = [...path, category.id];\n    const isPathSelected = selectedPath && selectedPath.length === currentPath.length &&\n        selectedPath.every((id, idx) => id === currentPath[idx]);\n    const isParentSelected = selectedPath && selectedPath.length > currentPath.length &&\n        selectedPath.slice(0, currentPath.length).every((id, idx) => id === currentPath[idx]);\n    const shouldShowSubcategories = hasSubcategories && (isPathSelected || isParentSelected);\n\n    const handleClick = () => {\n        if (isPathSelected) {\n            // Deselect if clicking the same path\n            onSelect(null);\n        } else {\n            // Select this path\n            onSelect(currentPath);\n        }\n    };\n\n    return (\n        <div style={{ width: '100%' }}>\n            <CategoryItem>\n                <CategoryButton\n                    onClick={handleClick}\n                    active={isPathSelected}\n                    level={level}\n                >\n                    {category.name[language] || category.name['en']}\n                </CategoryButton>\n            </CategoryItem>\n\n            {shouldShowSubcategories && (\n                <SubcategoryList level={level}>\n                    {Object.keys(category.subcategories).map((subcategoryId) => {\n                        const subcategory = category.subcategories[subcategoryId];\n\n                        return (\n                            <SubcategoryItem key={subcategoryId}>\n                                <CategoryTree\n                                    category={subcategory}\n                                    path={currentPath}\n                                    selectedPath={selectedPath}\n                                    onSelect={onSelect}\n                                    language={language}\n                                    level={level + 1}\n                                />\n                            </SubcategoryItem>\n                        );\n                    })}\n                </SubcategoryList>\n            )}\n        </div>\n    );\n};\n\nconst CategoryFilter = ({ onFilterChange }) => {\n    const { t, i18n } = useTranslation();\n    const language = i18n.language || 'en';\n    const [selectedPath, setSelectedPath] = useState(null);\n\n    const handleCategorySelect = (path) => {\n        setSelectedPath(path);\n        onFilterChange(path);\n    };\n\n    const handleClear = () => {\n        setSelectedPath(null);\n        onFilterChange(null);\n    };\n\n    const categoryKeys = Object.keys(categories);\n\n    return (\n        <CategoryFilterContainer>\n            <CategoryList>\n                {categoryKeys.map((categoryId) => {\n                    const category = categories[categoryId];\n                    const path = [categoryId];\n\n                    return (\n                        <CategoryTree\n                            key={categoryId}\n                            category={category}\n                            path={[]}\n                            selectedPath={selectedPath}\n                            onSelect={handleCategorySelect}\n                            language={language}\n                            level={0}\n                        />\n                    );\n                })}\n            </CategoryList>\n\n            {selectedPath && (\n                <ClearButton onClick={handleClear}>\n                    {t('posts.clearFilter')}\n                </ClearButton>\n            )}\n        </CategoryFilterContainer>\n    );\n};\n\nexport default CategoryFilter;\n"]},"metadata":{},"sourceType":"module"}