{"ast":null,"code":"import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enTranslations from './locales/en.json';\nimport esTranslations from './locales/es.json';\nimport deTranslations from './locales/de.json';\nimport itTranslations from './locales/it.json';\nimport frTranslations from './locales/fr.json'; // Supported languages\n\nconst supportedLanguages = ['en', 'es', 'de', 'it', 'fr']; // Function to detect browser language\n\nconst detectBrowserLanguage = () => {\n  // Get browser language(s)\n  const browserLang = navigator.language || navigator.userLanguage;\n  const browserLangs = navigator.languages || [browserLang]; // Extract language code (first 2 characters, e.g., 'en' from 'en-US')\n\n  const getLanguageCode = lang => {\n    if (!lang) return null;\n    return lang.split('-')[0].toLowerCase();\n  }; // Check if browser language is supported\n\n\n  for (let lang of browserLangs) {\n    const langCode = getLanguageCode(lang);\n\n    if (langCode && supportedLanguages.includes(langCode)) {\n      return langCode;\n    }\n  } // Fallback to English if browser language not supported\n\n\n  return 'en';\n}; // Get saved language from localStorage, or detect from browser (first time visit)\n\n\nconst savedLanguage = localStorage.getItem('i18nextLng');\nconst detectedLanguage = detectBrowserLanguage();\nconst initialLanguage = savedLanguage || detectedLanguage; // Save detected browser language to localStorage if it's the first visit\n\nif (!savedLanguage && initialLanguage) {\n  localStorage.setItem('i18nextLng', initialLanguage);\n}\n\ni18n.use(initReactI18next).init({\n  resources: {\n    en: {\n      translation: enTranslations\n    },\n    es: {\n      translation: esTranslations\n    },\n    de: {\n      translation: deTranslations\n    },\n    it: {\n      translation: itTranslations\n    },\n    fr: {\n      translation: frTranslations\n    }\n  },\n  lng: initialLanguage,\n  fallbackLng: 'en',\n  interpolation: {\n    escapeValue: false // React already escapes values\n\n  }\n}); // Ensure language changes are saved to localStorage\n\ni18n.on('languageChanged', lng => {\n  localStorage.setItem('i18nextLng', lng);\n});\nexport default i18n;","map":{"version":3,"sources":["/Users/nicodanke/development/dizen/react-blog-template/src/i18n.js"],"names":["i18n","initReactI18next","enTranslations","esTranslations","deTranslations","itTranslations","frTranslations","supportedLanguages","detectBrowserLanguage","browserLang","navigator","language","userLanguage","browserLangs","languages","getLanguageCode","lang","split","toLowerCase","langCode","includes","savedLanguage","localStorage","getItem","detectedLanguage","initialLanguage","setItem","use","init","resources","en","translation","es","de","it","fr","lng","fallbackLng","interpolation","escapeValue","on"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;AACA,SAASC,gBAAT,QAAiC,eAAjC;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,cAAP,MAA2B,mBAA3B,C,CAEA;;AACA,MAAMC,kBAAkB,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,CAA3B,C,CAEA;;AACA,MAAMC,qBAAqB,GAAG,MAAM;AAChC;AACA,QAAMC,WAAW,GAAGC,SAAS,CAACC,QAAV,IAAsBD,SAAS,CAACE,YAApD;AACA,QAAMC,YAAY,GAAGH,SAAS,CAACI,SAAV,IAAuB,CAACL,WAAD,CAA5C,CAHgC,CAKhC;;AACA,QAAMM,eAAe,GAAIC,IAAD,IAAU;AAC9B,QAAI,CAACA,IAAL,EAAW,OAAO,IAAP;AACX,WAAOA,IAAI,CAACC,KAAL,CAAW,GAAX,EAAgB,CAAhB,EAAmBC,WAAnB,EAAP;AACH,GAHD,CANgC,CAWhC;;;AACA,OAAK,IAAIF,IAAT,IAAiBH,YAAjB,EAA+B;AAC3B,UAAMM,QAAQ,GAAGJ,eAAe,CAACC,IAAD,CAAhC;;AACA,QAAIG,QAAQ,IAAIZ,kBAAkB,CAACa,QAAnB,CAA4BD,QAA5B,CAAhB,EAAuD;AACnD,aAAOA,QAAP;AACH;AACJ,GAjB+B,CAmBhC;;;AACA,SAAO,IAAP;AACH,CArBD,C,CAuBA;;;AACA,MAAME,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAtB;AACA,MAAMC,gBAAgB,GAAGhB,qBAAqB,EAA9C;AACA,MAAMiB,eAAe,GAAGJ,aAAa,IAAIG,gBAAzC,C,CAEA;;AACA,IAAI,CAACH,aAAD,IAAkBI,eAAtB,EAAuC;AACnCH,EAAAA,YAAY,CAACI,OAAb,CAAqB,YAArB,EAAmCD,eAAnC;AACH;;AAEDzB,IAAI,CACC2B,GADL,CACS1B,gBADT,EAEK2B,IAFL,CAEU;AACFC,EAAAA,SAAS,EAAE;AACPC,IAAAA,EAAE,EAAE;AACAC,MAAAA,WAAW,EAAE7B;AADb,KADG;AAIP8B,IAAAA,EAAE,EAAE;AACAD,MAAAA,WAAW,EAAE5B;AADb,KAJG;AAOP8B,IAAAA,EAAE,EAAE;AACAF,MAAAA,WAAW,EAAE3B;AADb,KAPG;AAUP8B,IAAAA,EAAE,EAAE;AACAH,MAAAA,WAAW,EAAE1B;AADb,KAVG;AAaP8B,IAAAA,EAAE,EAAE;AACAJ,MAAAA,WAAW,EAAEzB;AADb;AAbG,GADT;AAkBF8B,EAAAA,GAAG,EAAEX,eAlBH;AAmBFY,EAAAA,WAAW,EAAE,IAnBX;AAoBFC,EAAAA,aAAa,EAAE;AACXC,IAAAA,WAAW,EAAE,KADF,CACQ;;AADR;AApBb,CAFV,E,CA2BA;;AACAvC,IAAI,CAACwC,EAAL,CAAQ,iBAAR,EAA4BJ,GAAD,IAAS;AAChCd,EAAAA,YAAY,CAACI,OAAb,CAAqB,YAArB,EAAmCU,GAAnC;AACH,CAFD;AAIA,eAAepC,IAAf","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enTranslations from './locales/en.json';\nimport esTranslations from './locales/es.json';\nimport deTranslations from './locales/de.json';\nimport itTranslations from './locales/it.json';\nimport frTranslations from './locales/fr.json';\n\n// Supported languages\nconst supportedLanguages = ['en', 'es', 'de', 'it', 'fr'];\n\n// Function to detect browser language\nconst detectBrowserLanguage = () => {\n    // Get browser language(s)\n    const browserLang = navigator.language || navigator.userLanguage;\n    const browserLangs = navigator.languages || [browserLang];\n\n    // Extract language code (first 2 characters, e.g., 'en' from 'en-US')\n    const getLanguageCode = (lang) => {\n        if (!lang) return null;\n        return lang.split('-')[0].toLowerCase();\n    };\n\n    // Check if browser language is supported\n    for (let lang of browserLangs) {\n        const langCode = getLanguageCode(lang);\n        if (langCode && supportedLanguages.includes(langCode)) {\n            return langCode;\n        }\n    }\n\n    // Fallback to English if browser language not supported\n    return 'en';\n};\n\n// Get saved language from localStorage, or detect from browser (first time visit)\nconst savedLanguage = localStorage.getItem('i18nextLng');\nconst detectedLanguage = detectBrowserLanguage();\nconst initialLanguage = savedLanguage || detectedLanguage;\n\n// Save detected browser language to localStorage if it's the first visit\nif (!savedLanguage && initialLanguage) {\n    localStorage.setItem('i18nextLng', initialLanguage);\n}\n\ni18n\n    .use(initReactI18next)\n    .init({\n        resources: {\n            en: {\n                translation: enTranslations\n            },\n            es: {\n                translation: esTranslations\n            },\n            de: {\n                translation: deTranslations\n            },\n            it: {\n                translation: itTranslations\n            },\n            fr: {\n                translation: frTranslations\n            }\n        },\n        lng: initialLanguage,\n        fallbackLng: 'en',\n        interpolation: {\n            escapeValue: false // React already escapes values\n        }\n    });\n\n// Ensure language changes are saved to localStorage\ni18n.on('languageChanged', (lng) => {\n    localStorage.setItem('i18nextLng', lng);\n});\n\nexport default i18n;\n\n"]},"metadata":{},"sourceType":"module"}