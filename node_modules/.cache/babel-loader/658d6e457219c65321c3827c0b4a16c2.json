{"ast":null,"code":"var _jsxFileName = \"/Users/nicodanke/development/dizen/react-blog-template/src/components/LanguageSelector/LanguageSelector.jsx\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LanguageSelectorContainer, LanguageButton, LanguageDropdownList, LanguageOption } from './Style';\nconst languages = [{\n  code: 'en',\n  flag: 'ðŸ‡ºðŸ‡¸',\n  name: 'English'\n}, {\n  code: 'es',\n  flag: 'ðŸ‡ªðŸ‡¸',\n  name: 'EspaÃ±ol'\n}, {\n  code: 'de',\n  flag: 'ðŸ‡©ðŸ‡ª',\n  name: 'Deutsch'\n}, {\n  code: 'it',\n  flag: 'ðŸ‡®ðŸ‡¹',\n  name: 'Italiano'\n}, {\n  code: 'fr',\n  flag: 'ðŸ‡«ðŸ‡·',\n  name: 'FranÃ§ais'\n}];\n\nconst LanguageSelector = () => {\n  const {\n    i18n\n  } = useTranslation();\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const currentLanguage = languages.find(lang => lang.code === i18n.language) || languages[0];\n\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng); // Explicitly save to localStorage to ensure persistence\n\n    localStorage.setItem('i18nextLng', lng);\n    setIsOpen(false);\n  }; // Close dropdown when clicking outside\n\n\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n  return /*#__PURE__*/React.createElement(LanguageSelectorContainer, {\n    ref: dropdownRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LanguageButton, {\n    onClick: () => setIsOpen(!isOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, currentLanguage.flag), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, currentLanguage.code.toUpperCase())), isOpen && /*#__PURE__*/React.createElement(LanguageDropdownList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, languages.map(lang => /*#__PURE__*/React.createElement(LanguageOption, {\n    key: lang.code,\n    active: i18n.language === lang.code,\n    onClick: () => changeLanguage(lang.code),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, lang.flag), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, lang.name)))));\n};\n\nexport default LanguageSelector;","map":{"version":3,"sources":["/Users/nicodanke/development/dizen/react-blog-template/src/components/LanguageSelector/LanguageSelector.jsx"],"names":["React","useState","useRef","useEffect","useTranslation","LanguageSelectorContainer","LanguageButton","LanguageDropdownList","LanguageOption","languages","code","flag","name","LanguageSelector","i18n","isOpen","setIsOpen","dropdownRef","currentLanguage","find","lang","language","changeLanguage","lng","localStorage","setItem","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","toUpperCase","map"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n    LanguageSelectorContainer,\n    LanguageButton,\n    LanguageDropdownList,\n    LanguageOption\n} from './Style';\n\nconst languages = [\n    { code: 'en', flag: 'ðŸ‡ºðŸ‡¸', name: 'English' },\n    { code: 'es', flag: 'ðŸ‡ªðŸ‡¸', name: 'EspaÃ±ol' },\n    { code: 'de', flag: 'ðŸ‡©ðŸ‡ª', name: 'Deutsch' },\n    { code: 'it', flag: 'ðŸ‡®ðŸ‡¹', name: 'Italiano' },\n    { code: 'fr', flag: 'ðŸ‡«ðŸ‡·', name: 'FranÃ§ais' }\n];\n\nconst LanguageSelector = () => {\n    const { i18n } = useTranslation();\n    const [isOpen, setIsOpen] = useState(false);\n    const dropdownRef = useRef(null);\n\n    const currentLanguage = languages.find(lang => lang.code === i18n.language) || languages[0];\n\n    const changeLanguage = (lng) => {\n        i18n.changeLanguage(lng);\n        // Explicitly save to localStorage to ensure persistence\n        localStorage.setItem('i18nextLng', lng);\n        setIsOpen(false);\n    };\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setIsOpen(false);\n            }\n        };\n\n        if (isOpen) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isOpen]);\n\n    return (\n        <LanguageSelectorContainer ref={dropdownRef}>\n            <LanguageButton onClick={() => setIsOpen(!isOpen)}>\n                <span>{currentLanguage.flag}</span>\n                <span>{currentLanguage.code.toUpperCase()}</span>\n            </LanguageButton>\n            {isOpen && (\n                <LanguageDropdownList>\n                    {languages.map((lang) => (\n                        <LanguageOption\n                            key={lang.code}\n                            active={i18n.language === lang.code}\n                            onClick={() => changeLanguage(lang.code)}\n                        >\n                            <span>{lang.flag}</span>\n                            <span>{lang.name}</span>\n                        </LanguageOption>\n                    ))}\n                </LanguageDropdownList>\n            )}\n        </LanguageSelectorContainer>\n    );\n};\n\nexport default LanguageSelector;\n\n"]},"metadata":{},"sourceType":"module"}