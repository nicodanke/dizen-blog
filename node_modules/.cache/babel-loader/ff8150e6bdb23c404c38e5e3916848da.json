{"ast":null,"code":"var _jsxFileName = \"/Users/nicodanke/development/dizen/react-blog-template/src/contexts/ThemeContext.jsx\";\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\nimport baseTheme from '../components/StyledComponents/Theme'; // Create light and dark theme variants\n\nconst themes = {\n  light: { ...baseTheme,\n    mode: 'light',\n    body: {\n      background: \"#FFF\",\n      text: \"#333\",\n      headers: \"#000\"\n    },\n    colors: { ...baseTheme.colors,\n      background: \"#FFF\",\n      surface: \"#F5F5F5\",\n      text: \"#333\",\n      textSecondary: \"#666\"\n    }\n  },\n  dark: { ...baseTheme,\n    mode: 'dark',\n    body: {\n      background: \"#000\",\n      text: \"#888\",\n      headers: \"#FFF\"\n    },\n    colors: { ...baseTheme.colors,\n      background: \"#000\",\n      surface: \"#1A1A1A\",\n      text: \"#FFF\",\n      textSecondary: \"#888\"\n    }\n  }\n};\nconst ThemeContext = createContext();\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeContextProvider');\n  }\n\n  return context;\n}; // Function to detect system theme preference\n\nconst getSystemThemePreference = () => {\n  if (typeof window !== 'undefined' && window.matchMedia) {\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  }\n\n  return 'dark'; // Fallback to dark if can't detect\n};\n\nexport const ThemeContextProvider = ({\n  children\n}) => {\n  const [themeMode, setThemeMode] = useState(() => {\n    // Get saved theme from localStorage\n    const savedTheme = localStorage.getItem('themeMode');\n\n    if (savedTheme) {\n      return savedTheme;\n    } // If no saved theme, use system preference\n\n\n    return getSystemThemePreference();\n  });\n  useEffect(() => {\n    // Save theme preference to localStorage\n    localStorage.setItem('themeMode', themeMode);\n  }, [themeMode]); // Listen for system theme changes and update automatically\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && window.matchMedia) {\n      const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n\n      const handleSystemThemeChange = e => {\n        // Always update to match system preference\n        const newTheme = e.matches ? 'dark' : 'light';\n        setThemeMode(newTheme); // Update localStorage to reflect the new system preference\n\n        localStorage.setItem('themeMode', newTheme);\n      }; // Modern browsers\n\n\n      if (mediaQuery.addEventListener) {\n        mediaQuery.addEventListener('change', handleSystemThemeChange);\n        return () => mediaQuery.removeEventListener('change', handleSystemThemeChange);\n      } // Legacy browsers\n      else if (mediaQuery.addListener) {\n          mediaQuery.addListener(handleSystemThemeChange);\n          return () => mediaQuery.removeListener(handleSystemThemeChange);\n        }\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    setThemeMode(prevMode => prevMode === 'light' ? 'dark' : 'light');\n  };\n\n  const value = {\n    themeMode,\n    toggleTheme,\n    theme: themes[themeMode]\n  };\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledThemeProvider, {\n    theme: themes[themeMode],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, children));\n};","map":{"version":3,"sources":["/Users/nicodanke/development/dizen/react-blog-template/src/contexts/ThemeContext.jsx"],"names":["React","createContext","useContext","useState","useEffect","ThemeProvider","StyledThemeProvider","baseTheme","themes","light","mode","body","background","text","headers","colors","surface","textSecondary","dark","ThemeContext","useTheme","context","Error","getSystemThemePreference","window","matchMedia","matches","ThemeContextProvider","children","themeMode","setThemeMode","savedTheme","localStorage","getItem","setItem","mediaQuery","handleSystemThemeChange","e","newTheme","addEventListener","removeEventListener","addListener","removeListener","toggleTheme","prevMode","value","theme"],"mappings":"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","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { ThemeProvider as StyledThemeProvider } from 'styled-components';\nimport baseTheme from '../components/StyledComponents/Theme';\n\n// Create light and dark theme variants\nconst themes = {\n    light: {\n        ...baseTheme,\n        mode: 'light',\n        body: {\n            background: \"#FFF\",\n            text: \"#333\",\n            headers: \"#000\"\n        },\n        colors: {\n            ...baseTheme.colors,\n            background: \"#FFF\",\n            surface: \"#F5F5F5\",\n            text: \"#333\",\n            textSecondary: \"#666\"\n        }\n    },\n    dark: {\n        ...baseTheme,\n        mode: 'dark',\n        body: {\n            background: \"#000\",\n            text: \"#888\",\n            headers: \"#FFF\"\n        },\n        colors: {\n            ...baseTheme.colors,\n            background: \"#000\",\n            surface: \"#1A1A1A\",\n            text: \"#FFF\",\n            textSecondary: \"#888\"\n        }\n    }\n};\n\nconst ThemeContext = createContext();\n\nexport const useTheme = () => {\n    const context = useContext(ThemeContext);\n    if (!context) {\n        throw new Error('useTheme must be used within a ThemeContextProvider');\n    }\n    return context;\n};\n\n// Function to detect system theme preference\nconst getSystemThemePreference = () => {\n    if (typeof window !== 'undefined' && window.matchMedia) {\n        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return 'dark'; // Fallback to dark if can't detect\n};\n\nexport const ThemeContextProvider = ({ children }) => {\n    const [themeMode, setThemeMode] = useState(() => {\n        // Get saved theme from localStorage\n        const savedTheme = localStorage.getItem('themeMode');\n        if (savedTheme) {\n            return savedTheme;\n        }\n        // If no saved theme, use system preference\n        return getSystemThemePreference();\n    });\n\n    useEffect(() => {\n        // Save theme preference to localStorage\n        localStorage.setItem('themeMode', themeMode);\n    }, [themeMode]);\n\n    // Listen for system theme changes and update automatically\n    useEffect(() => {\n        if (typeof window !== 'undefined' && window.matchMedia) {\n            const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n            \n            const handleSystemThemeChange = (e) => {\n                // Always update to match system preference\n                const newTheme = e.matches ? 'dark' : 'light';\n                setThemeMode(newTheme);\n                // Update localStorage to reflect the new system preference\n                localStorage.setItem('themeMode', newTheme);\n            };\n\n            // Modern browsers\n            if (mediaQuery.addEventListener) {\n                mediaQuery.addEventListener('change', handleSystemThemeChange);\n                return () => mediaQuery.removeEventListener('change', handleSystemThemeChange);\n            } \n            // Legacy browsers\n            else if (mediaQuery.addListener) {\n                mediaQuery.addListener(handleSystemThemeChange);\n                return () => mediaQuery.removeListener(handleSystemThemeChange);\n            }\n        }\n    }, []);\n\n    const toggleTheme = () => {\n        setThemeMode(prevMode => prevMode === 'light' ? 'dark' : 'light');\n    };\n\n    const value = {\n        themeMode,\n        toggleTheme,\n        theme: themes[themeMode]\n    };\n\n    return (\n        <ThemeContext.Provider value={value}>\n            <StyledThemeProvider theme={themes[themeMode]}>\n                {children}\n            </StyledThemeProvider>\n        </ThemeContext.Provider>\n    );\n};\n\n"]},"metadata":{},"sourceType":"module"}